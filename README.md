
# Документация
## Документация должна содержать:
### 1.  Вашу Фамилию и Имя

Колпаков Егор, БПИ215
    
### 2.  Подробное текстовое описание алгоритмов генерации комнат и их содержимого

#### Генерация комнат
Blueprint BP_Room содержит instance static mesh brick. Имено из этих блоков и генерируются комнаты. 

Процесс генерация состоит из нескольких этапов: 
- **генерация пола**
здесь всё происходит довольно просто: по заранее известный количествам половых плиток по X и Y мы добавляем новый кирпичик с нужный смещением
- **генерация 4-х стен**
генерация стен происходит аналогично генерации пола, только здесь у нас другие плоскости. Высота стен задаётся заранее
- **генерация потолка**
генерация потолка так же происходит как и генерация пола, всё что меняется, мы поднимаем его по оси Z
- **генерация ловушек**
здесь всё сильно интереснее. На протяжении всей игры я храню hard coef - коэффициент сложности, который представляет собой число от 0 до 1. С его помощью мы получаем кол-во ловушек в комнате как (площадь комнаты) * (коэффициент сложности). Ловушки генерируются двух типов: статические и подвижные. Статическая ловушка представляет собой некоторое кол-во шипов, которые располагаются на месте, а подвижная ловушка - это вращающаяся лопасть, причём скорость её вращения выбирается абсолютно случайно. Кол-во ловушек увеличивается из уровня к уровню, чем ближе к победе - тем игра сложнее. Так же кол-во ловушек на сложных уровнях больше.
- **генерация дверей**
двери представляют собой некие "порталы" для перехода на следующий уровень. Мы генерируем их в дальнем от игрока углу. При контакте с дверью игрок появляется на следующем (более сложном) уровне. Одна из дверей (левая) ведёт игрока в уровень с дополнительными усложнениями и бонусами, другая же к следующему базовому уровню.
- **генерация объекта для пополнения здоровья** 
генерация объекта для пополнения здоровья вызывается только в случае, если текущий уровень с дополнительными усложнениями. Генерируется случайное кол-во таких объектов (от 1 до 3).
- **генерация финального объекта для завершения игры**
это действие вызывается только в случае, если текущий уровень последний. Так же в последнем уровне не генерируются двери. Финальный объект представляет собой "волшебную капусту", которая светится и летает в воздухе. Но чтобы к ней добраться, игроку предстоит пройти немало испытаний.

### 3.  Описание принципа изменения уровня сложности в вашей игре
Для хранения уровня сложности и кол-ва уровней, я использую объект BP_GameInstance, который существует на протяжении всей игры. Именно в нём при создании следующего уровня увеличивается коэффициент сложности, к которому обращается класс комнаты для генерации ловушек внутри. Так же объект BP_GameInstance содержит boolean переменную, которая сообщает о том, с усложнениями ли текущий уровень или нет. Коэффициент сложности представляет собой число от 0 до 1, на которое умножается площадь комнаты для генерации кол-ва ловушек. То есть чем сложнее уровень -> тем больше ловушек. Данный коэффициент увеличивается с каждым уровнем и сбрасывается при прохождении игры или смерти игрока. 

    
### 4.  Описание всех значимых реализованных сверх условия дополнений
Старался сделать игру хоть немного красивой, добавил экраны смерти, победы, главное меню. Так же нацепил текстуры на кирпичи и создал более менее реалистичные ловушки. 
    
### 5.  Ссылки на готовые проекты, из которых были взяты части кода с пояснениями
Не пользовался готовыми проектами, но смотрел очень много видео на ютубе о процедурной генерации объектов, именно оттуда и взял основные идеи. 

https://www.youtube.com/watch?v=h-CYtkWClGs&t=444s
https://youtu.be/XgIDH42RHWQ?si=PxAEqxTqGn_UdGZ1

## Проект выполнялся на оценку 6 / 10.
